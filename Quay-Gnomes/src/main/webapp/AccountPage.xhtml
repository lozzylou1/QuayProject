<!DOCTYPE html>
<html>
<ui:composition xmlns="https://www.w3.org/1999/xhtml"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	template="templates/main.xhtml">
	<meta charset="utf-8" />
	<script
		src="https://ajax.googleapis.com/ajax/libs/angularjs/1.5.7/angular.min.js"></script>
	<ui:define name="title">Catalogue</ui:define>
	<ui:define name="maincontent">
		<style>
.account-header {
	text-align: center;
	border-color: black;
	border-bottom: dashed;
}

.account-details {
	border-color: black;
	float: left;
	width: 50%;
}

.address-details {
	float: right;
	width: 50%;
	text-align: Left;
}

.account-details h2 {
	text-align: left;
}

.address-details h2 {
	text-align: Left;
}

.account-container {
	min-height: 400px;
}

.edit-address {
	display: none;
}

.delivery-address {
	float: Left;
}

.billing-address {
	float: right;
}

.edit-bAddress {
	display: none;
}
</style>
		<article>
			<div>

				<div class="account-header">
					<h1>Orders</h1>
				</div>
				<h:form>
					<h:dataTable id="table1" value="#{products.h.entrySet().toArray()}"
						var="key" border="1">
					
							<h:column>
							<f:facet name="header">
								<h:outputText value="Name" />
							</f:facet>
							<h:outputText value="#{key.key.productName}" />
						</h:column>
						<h:column>
							<f:facet name="header">
								<h:outputText value="Item Description" />
							</f:facet>
							<h:outputText value="#{key.key.shortDescription}" />
						</h:column>
							<h:column>
							<f:facet name="header">
								<h:outputText value="Quantity" />
							</f:facet>
							<h:outputText value="#{key.value}" />
						</h:column>
						<h:column>
							<f:facet name="header">
								<h:outputText value="Price" />
							</f:facet>
							<h:outputText value="#{key.key.price}" />
						</h:column>
						<f:facet name="footer">
							<h:outputText value="Total: #{basket.totalPrice}" />
						</f:facet>
					</h:dataTable>
				</h:form>

			</div>
		</article>
		<br />
		<hr />
		<br />
		<article>
			<div class="account-container">
				<div class="account-header">
					<h1>Account</h1>
				</div>
				<div class="account-details">

					<h2>User details</h2>

					<h4>Email address:</h4>
					<h:outputText value="#{login.customer.email}" />

					<h4>First name:</h4>
					<h:outputText value="#{login.customer.firstName}" />

					<h4>Last name:</h4>
					<h:outputText value="#{login.customer.surname}" />
				</div>

				<div class="address-details">
					<div class="delivery-address">
						<form id="delivery-form">
							<h2>Delivery Address</h2>
							<h4>Address line 1:</h4>
							<h:outputText value="#{login.customer.deliveryAddress1}" />
							<br />
							<h4>Post Code:</h4>
							<h:outputText value="#{login.customer.deliveryPostCode}" />
							<br />
							<button type="button" onClick="editAddress()">Edit
								Delivery Address</button>


							<div class="edit-address">
								<h:inputText value="#{login.customer.deliveryAddress1}"
									id="insertdFirstline"
									onfocus="if(this.value != ' '){this.value = ' ';}" />
								<br />
								<h:inputText value="#{login.customer.deliveryPostCode}"
									id="insertdPostCode"
									onfocus="if(this.value != ' '){this.value = ' ';}" />
								<br />

								<h:form>
									<h:commandButton value="Update" type="submit"
										action="#{register.update()}" />
								</h:form>

							</div>

						</form>
					</div>
					<div class="billing-address">
						<form id="billing-form">
							<h2>Billing Address</h2>
							<h4>Address line 1:</h4>
							<h:outputText value="#{login.customer.billingAddress1}" />
							<h4>Post Code:</h4>
							<h:outputText value="#{login.customer.billingPostCode}" />
							<br />
							<button type="button" onClick="editbAddress()">Edit
								Billing Address</button>


							<div class="edit-bAddress">
								<h:inputText value="#{login.customer.billingAddress1 }"
									id="insertbFirstline"
									onfocus="if(this.value != ' '){this.value = ' ';}" />
								<br />
								<h:inputText value="#{login.customer.billingPostCode }"
									id="insertbPostCode"
									onfocus="if(this.value != ' '){this.value = ' ';}" />
								<br />
								<h:form id="BillingAddressButton">
									<h:commandButton value="Update" type="submit"
										action="#{register.update()}" />
								</h:form>
							</div>
						</form>
					</div>
				</div>
			</div>
			<script>
				function editAddress() {
					$(".edit-address").toggle(500);
				}
				function editbAddress() {
					$(".edit-bAddress").toggle(500);
				}
			</script>
		</article>
	</ui:define>
</ui:composition>
</html>
